<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    let objArray=[
        {name:'张三',age:18},
        {name:'李四',age:20},
        {name:'王五',age:22},
        {name:'张三',age:24},
        {name:'钱七',age:26},
        {name:'张三',age:18},
        {name:'周九',age:30},
        {name:'王五',age:22},
        {name:'郑十一',age:34},
        {name:'王十二',age:36},
        {name:'郑十一',age:34},
    ]
    // 有一个对象数组，里面有重复的元素，请找出重复的元素，并返回一个新数组。

    // 1.先定义一个函数，判断变量是不是对象
     function isObject(obj){
        return obj!=null && typeof obj === 'object'
    }

     // 2.定义一个函数，判断两个对象是否相等
    function areObjectsEqual(obj1,obj2){
        let keys1 = Object.keys(obj1);
        let keys2 = Object.keys(obj2);
        if(keys1.length !== keys2.length) return false
        for(let key of keys1){
            let val1 = obj1[key]
            let val2 = obj2[key]
            let areObjects = isObject(val1) && isObject(val2)
            if(areObjects && !areObjectsEqual(val1,val2) || !areObjects && val1 !== val2){
                return false
            }
        }
        return true
    }

    // 3.定义一个函数，找出重复的元素 利用reduce方法 some跟一个空数组永远返回false
    function uniqueOjectsByCustomCompare(arr){
        return arr.reduce((accumulator,current)=>{
            if(!accumulator.some( item => areObjectsEqual(item,current))){
                accumulator.push(current)
            }
            return accumulator
        },[])
    }

console.log(uniqueOjectsByCustomCompare(objArray))
console.log(areObjectsEqual([],{name:'李四',age:20}))
    console.log([].some((item) => {
        return true

    }))
</script>


</body>
</html>
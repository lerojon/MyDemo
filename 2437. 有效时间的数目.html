<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
// 给你一个长度为5的字符串time，表示一个电子时钟当前的时间，格式为"hh:mm"。最早可能的时间是"00:00"，最晚可能的时间是"23:59"。
// 在字符串time中，被字符?替换掉的数位是 未知的，被替换的数字可能是0到9中的任何一个。
// 请你返回一个整数answer，将每一个 ?都用0到9中一个数字替换后，可以得到的有效时间的数目。
// 示例 1：
// 输入：time = "?5:00"
//   输出：2
//   解释：我们可以将 ? 替换成 0 或 1 ，得到 "05:00" 或者 "15:00" 。注意我们不能替换成 2 ，因为时间 "25:00" 是无效时间。所以我们有两个选择。
// 示例 2：
// 输入：time = "0?:0?"
//   输出：100
//   解释：两个 ? 都可以被 0 到 9 之间的任意数字替换，所以我们总共有 100 种选择。
// 示例 3：
// 输入：time = "??:??"
//   输出：1440
//   解释：小时总共有 24 种选择，分钟总共有 60 种选择。所以总共有 24 * 60 = 1440 种选择。
// 提示：
// time是一个长度为 5的有效字符串，格式为"hh:mm"。
// "00" <= hh <= "23"
//   "00" <= mm <= "59"
//   字符串中有的数位是'?'，需要用0到9之间的数字替换。
/*这段代码定义了一个函数 countTime，接受一个字符串 time 作为参数。该函数的作用是找到让字符串 time 可以表示合法的时间的不同方式数量，并返回结果。
 具体实现是通过 DFS(深度优先搜索算法) 算法得出所有可能的组合，其中如果遇到 '?' 则枚举 0 - 9 之间的数字进行递归，否则递归下一位。每次到达字符串结
 尾时，调用check函数检查当前组合是否为合法时间，如果是则将结果加一。check 函数将字符串拆分成小时和分钟两部分，如果小时小于 24 且分钟小于 60 则为
 一个合法的时间，返回 true，否则返回 false。*/
  // alert(countTime("??:??"))
  var countTime = function(time) {
    let res = 0;
    const dfs = (arr, pos) => {
      if (pos === arr.length) {
        if (check(arr)) {
          res++;
        }
        return;
      }
      /*代码片段' string.fromcharcode ('0'. charcodeat () + i) '表示一个JavaScript代码，
      它生成从字符'0'开始的ASCII字符序列，偏移量为i。说明:-方法' string . fromcharcode() '是
      一个内置的JavaScript函数，它返回从指定的Unicode值序列创建的字符串。—'0'. charcodeat()方
      法返回字符'0'的ASCII码，即48。—JavaScript在字符串中添加数字时，会自动将数字转换为对应的ASCII
      字符码。—因此，表达式'0'. charcodeat () + i计算为字符(i+48)的ASCII码，有效地生成序列中的
      第i个字符。-最后，' String.fromCharCode() '方法将ASCII码转换为相应的字符。示例:—如果i = 3，
      则表达式'0'. charcodeat () + i的计算结果为48 + 3 = 51，即字母'3'的ASCII码。-运行代码片段
      ' string . fromcharcode ('0'. charcodeat () + i) '将生成字符串"3"，这是以'0'开始的序
      列中的第4个字符。*/
      if (arr[pos] === '?') {
        for (let i = 0; i <= 9; i++) {
          arr[pos] = String.fromCharCode('0'.charCodeAt() + i);
          //只要进入这里pos就是0
          dfs(arr, pos + 1);
          arr[pos] = '?';
        }
      } else {
        dfs(arr, pos + 1);
      }
    }
//['1','?','3','4']
    /*这是一个箭头函数，接受一个参数arr，表示一个时间字符串，如"10:30"。
    首先，将字符串中的小时和分钟数字分别解析出来。通过charCodeAt()方法可以得到字符对应的Ascii码值，'0'的Ascii码值是48，
    所以该代码可以将字符数字转换为实际的数字，如'3'=>'51'，'0'=>'48'，则'3'-'0'就可以得到3这个数字。然后，将小时和分钟分
    别用相应的计算方式转换为实际的数字。最后，将小时和分钟分别与24和60比较，如果都小于对应的值，则时间合法，返回true，否则返回
    false。*/
    const check = (arr) => {
      //(arr[0].charCodeAt() - '0'.charCodeAt()) * 10这里为什么乘以10:因为hh的第一位是十位数。
      const hh = (arr[0].charCodeAt() - '0'.charCodeAt()) * 10 + arr[1].charCodeAt() - '0'.charCodeAt();
      const mm = (arr[3].charCodeAt() - '0'.charCodeAt()) * 10 + arr[4].charCodeAt() - '0'.charCodeAt();
      return hh < 24 && mm < 60;
    };
    const arr = [...time];
    dfs(arr, 0);
    return res;
  }




//n
/*let permutationFun=function (n){
    let countArr = [];
    let res = 0;
    for (let i=0;i<=n;i++){
        countArr.push(String.fromCharCode('0'.charCodeAt()+i))
    }
    const dfs = function (arr,peo){
        for(let i=0;i<=arr.length;i++){
            if (arr[i]===arr[peo]){

            }
        }
    }
}*/

</script>
</body>
</html>